<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CreditPro</title>
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
  <nav class="navbar">
    <div class="container">
      <a href="/" class="logo">
        <div class="logo-icon">üí≥</div>
        <span>CreditPro</span>
      </a>
      <ul class="nav-links">
        <li><a href="/">–ì–ª–∞–≤–Ω–∞—è</a></li>
        <li><a href="/calculator">–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</a></li>
        <li><a href="/clients">–ö–ª–∏–µ–Ω—Ç—ã</a></li>
        <li><a href="/credits" class="active">–ö—Ä–µ–¥–∏—Ç—ã</a></li>
      </ul>
    </div>
  </nav>

  <div class="container main-content">
    <h1>–û—Ñ–æ—Ä–º–∏—Ç—å –Ω–æ–≤—ã–π –∫—Ä–µ–¥–∏—Ç</h1>

    <div class="form-container">
      <form action="/credits" method="POST">
        <div class="form-group">
          <label for="client">–ö–ª–∏–µ–Ω—Ç:</label>
          <select id="client" name="client" required>
            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∫–ª–∏–µ–Ω—Ç–∞</option>
            <% clients.forEach(client => { %>
              <option value="<%= client._id %>">
                <%= client.lastName %> <%= client.firstName %> <%= client.middleName || '' %> - <%= client.passportSeries %>
              </option>
            <% }); %>
          </select>
        </div>

        <div class="form-group">
          <label for="creditType">–¢–∏–ø –∫—Ä–µ–¥–∏—Ç–∞:</label>
          <select id="creditType" name="creditType" required>
            <option value="consumer">–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–∏–π</option>
            <option value="mortgage">–ò–ø–æ—Ç–µ–∫–∞</option>
            <option value="car">–ê–≤—Ç–æ–∫—Ä–µ–¥–∏—Ç</option>
            <option value="business">–ë–∏–∑–Ω–µ—Å</option>
          </select>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="amount">–°—É–º–º–∞ –∫—Ä–µ–¥–∏—Ç–∞ (—Å—É–º):</label>
            <input type="number" id="amount" name="amount" required min="1000000" step="100000" value="10000000">
          </div>

          <div class="form-group">
            <label for="interestRate">–ì–æ–¥–æ–≤–∞—è –ø—Ä–æ—Ü–µ–Ω—Ç–Ω–∞—è —Å—Ç–∞–≤–∫–∞ (%):</label>
            <input type="number" id="interestRate" name="interestRate" required min="0" max="100" step="0.1" value="20">
          </div>

          <div class="form-group">
            <label for="termMonths">–°—Ä–æ–∫ –∫—Ä–µ–¥–∏—Ç–∞ (–º–µ—Å—è—Ü–µ–≤):</label>
            <input type="number" id="termMonths" name="termMonths" required min="1" max="360" value="12">
          </div>
        </div>

        <div class="form-group">
          <label for="paymentType">–¢–∏–ø –ø–ª–∞—Ç–µ–∂–∞:</label>
          <select id="paymentType" name="paymentType" required>
            <option value="annuity">–ê–Ω–Ω—É–∏—Ç–µ—Ç–Ω—ã–π</option>
            <option value="differentiated">–î–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π</option>
          </select>
        </div>

        <div class="form-actions">
          <button type="submit" class="btn btn-primary">–û—Ñ–æ—Ä–º–∏—Ç—å –∫—Ä–µ–¥–∏—Ç</button>
          <a href="/credits" class="btn btn-secondary">–û—Ç–º–µ–Ω–∞</a>
        </div>
      </form>
    </div>

    <% if (clients.length === 0) { %>
      <div class="info-box warning">
        <p>–í–Ω–∏–º–∞–Ω–∏–µ: –í —Å–∏—Å—Ç–µ–º–µ –Ω–µ—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤. –°–Ω–∞—á–∞–ª–∞ –¥–æ–±–∞–≤—å—Ç–µ –∫–ª–∏–µ–Ω—Ç–∞.</p>
        <a href="/clients/new" class="btn">–î–æ–±–∞–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞</a>
      </div>
    <% } %>
  </div>

  <footer class="footer">
    <div class="container">
      <p>&copy; 2024 CreditPro. –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫—Ä–µ–¥–∏—Ç–∞–º–∏.</p>
    </div>
  </footer>
</body>
</html>
